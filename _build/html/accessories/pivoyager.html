
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Omzlo PiVoyager Smart UPS and Watchdog for Raspberry Pi &#8212; NEMS Linux Documentation 1.6 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Omzlo PiWatcher Smart Watchdog for Raspberry Pi" href="piwatcher.html" />
    <link rel="prev" title="NEMS Accessories" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="omzlo-pivoyager-smart-ups-and-watchdog-for-raspberry-pi">
<h1>Omzlo PiVoyager Smart UPS and Watchdog for Raspberry Pi<a class="headerlink" href="#omzlo-pivoyager-smart-ups-and-watchdog-for-raspberry-pi" title="Permalink to this headline">¶</a></h1>
<p>The&nbsp;<a class="reference external" href="https://cat5.tv/pivoyager">Omzlo PiVoyager</a>&nbsp;is a pHat for
Raspberry Pi that allows programmable power events to take place, and
provides a smart battery backup UPS that keeps your NEMS Server powered
on even during a power outage.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/pivoyager.jpg"><img alt="PiVoyager image" src="../_images/pivoyager.jpg" style="width: 600px;" /></a>
</div>
<p>NEMS Linux includes built-in support for the PiVoyager board. There is
no configuration needed: Simply plug it in and boot up your NEMS Linux
server.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/std_pivoyager-pins.001.jpeg"><img alt="PiVoyager Pin out" src="../_images/std_pivoyager-pins.001.jpeg" style="width: 600px;" /></a>
</div>
<ol class="arabic">
<li><p class="first">Solder the 40-pin GPIO header to your PiVoyager if required.</p>
</li>
<li><p class="first">Safely power off your Raspberry Pi-powered NEMS Server.</p>
</li>
<li><p class="first">Disconnect the 5V power cord from your Raspberry Pi.</p>
</li>
<li><p class="first">Before mounting the PiVoyager atop your Raspberry Pi, power the
PiVoyager with a USB cable. All LEDs, except the yellow one, should
turn on.</p>
</li>
<li><p class="first">Connect the PiVoyager to your Raspberry Pi’s GPIO.</p>
</li>
<li><p class="first">Connect the 5V power cord to your PiVoyager,&nbsp;<em>not</em>&nbsp;the Raspberry Pi
(which will henceforward receive its power from the GPIO
pins).&nbsp;<em>Never</em>&nbsp;connect power to both.</p>
</li>
<li><p class="first">If the Raspberry Pi does not immediately begin to power itself up,
short-tap the power button on your PiVoyager</p>
</li>
<li><p class="first">Prepare a LiPo or Li-Ion battery that matches the following
requirements:</p>
<ul class="simple">
<li>Has a nominal voltage of 3.7V and a charging voltage of 4.2V.</li>
<li>Has built-in protection against over-heating, over-charge, and
over-discharge.</li>
<li>Accepts a charging current of 1000mA.</li>
<li>Has a 2mm JST connector, or if you cannot find one, you can
solder the battery leads to the two pin header.</li>
</ul>
<blockquote>
<div><div class="figure align-center">
<a class="reference internal image-reference" href="../_images/std_pivoyager-conn-bat.jpg"><img alt="PiVoyager Battery Connector" src="../_images/std_pivoyager-conn-bat.jpg" style="width: 100px;" /></a>
</div>
</div></blockquote>
</li>
<li><p class="first">Observe the polarity. There are + and - signs on the board that
serve as polarity indicators. If your battery’s polarity is
incorrect, snip the leads and reverse them with some solder tinning
and shrink tubing.</p>
</li>
<li><p class="first">Connect your battery to the PiVoyager.</p>
</li>
</ol>
<p>When both the battery and the USB power source are connected to the
PiVoyager, all four LEDs should be on.</p>
<p>The yellow LED will blink if the battery is charging and will be fully
on if the battery is fully charged.</p>
</div>
<div class="section" id="watchdog">
<h2>Watchdog<a class="headerlink" href="#watchdog" title="Permalink to this headline">¶</a></h2>
<p>If your Raspberry Pi should become unresponsive or otherwise freeze up,
your NEMS server will automatically power cycle after 2 minutes.</p>
</div>
<div class="section" id="smart-ups">
<h2>Smart UPS<a class="headerlink" href="#smart-ups" title="Permalink to this headline">¶</a></h2>
<p>If power is out and the battery becomes depleted (under 3.3V), your NEMS
Server will be safely shutdown, automatically. Upon power being
restored, the NEMS Server will boot, and the battery will begin
charging.</p>
</div>
<div class="section" id="battery-life">
<h2>Battery Life<a class="headerlink" href="#battery-life" title="Permalink to this headline">¶</a></h2>
<p>On our NEMS Linux 1.5.2 Raspberry Pi 3 Model B+ with a 3,000 mAh
battery, we see around 5.5 hours of battery life before NEMS Linux is
safely shut down.</p>
</div>
<div class="section" id="check-commands">
<h2>Check Commands<a class="headerlink" href="#check-commands" title="Permalink to this headline">¶</a></h2>
<p>Check commands are coming to NEMS Linux 1.6 to monitor the state of your
PiVoyager’s smart UPS.</p>
</div>
<div class="section" id="confirm-watchdog">
<h2>Confirm Watchdog<a class="headerlink" href="#confirm-watchdog" title="Permalink to this headline">¶</a></h2>
<p>To confirm your PiVoyager devices is detected and active, visit NEMS
Server Overview on your NEMS Dashboard.</p>
<p>To test if your piVoyager watchdog is working, stop the heartbeat and
wait 2 minutes:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">sudo kill -9 $(cat /var/run/nems-pivoyager.pid)</span>
</pre></div>
</div>
<p>This should not be done on a production server (it is akin to pulling
the power on a live system).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Omzlo PiVoyager Smart UPS and Watchdog for Raspberry Pi</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#watchdog">Watchdog</a></li>
<li><a class="reference internal" href="#smart-ups">Smart UPS</a></li>
<li><a class="reference internal" href="#battery-life">Battery Life</a></li>
<li><a class="reference internal" href="#check-commands">Check Commands</a></li>
<li><a class="reference internal" href="#confirm-watchdog">Confirm Watchdog</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">NEMS Accessories</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">NEMS Accessories</a></li>
      <li>Next: <a href="piwatcher.html" title="next chapter">Omzlo PiWatcher Smart Watchdog for Raspberry Pi</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/accessories/pivoyager.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Category5 TV Network.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.7</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../_sources/accessories/pivoyager.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>