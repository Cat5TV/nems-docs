
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Monitor Windows Machines with NRPE &#8212; NEMS Linux Documentation 1.6 documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Monitoring Linux Hosts with NEMS Linux" href="../linux/index.html" />
    <link rel="prev" title="Monitor Windows Machines with Windows Management Instrumentation (WMI)" href="check_wmi.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="monitor-windows-machines-with-nrpe">
<h1>Monitor Windows Machines with NRPE<a class="headerlink" href="#monitor-windows-machines-with-nrpe" title="Permalink to this headline">¶</a></h1>
<div class="warning admonition">
<p class="first admonition-title">Note</p>
<p class="last">NRPE is not the recommended way to monitor Windows hosts.
Please opt for <a class="reference external" href="check_wmi.html">WMI</a> instead. This is more for
legacy versions of NEMS Linux (ie., 1.0-1.3.x).</p>
</div>
<p>The Nagios Remote Plugin Executor (NRPE) allows your Nagios Enterprise
Monitoring Server to communicate with the Linux machines on your server
to determine things like free disk space, CPU load, and detect possible
issues that a simple ping can’t determine.</p>
<p>As of NEMS 1.2 NSClient++ is optional for monitoring of Windows computers
(thanks to the addition of WMIC). If you’d like to use it, please follow
the directions below, otherwise use the provided WMIC-based check commands.</p>
<p><strong>This is not supported on modern NEMS Linux.</strong></p>
<ol class="arabic">
<li><p class="first">Grab the latest Windows client at&nbsp;<a class="reference external" href="https://www.nsclient.org/download/">https://www.nsclient.org/download/</a></p>
</li>
<li><p class="first">Install the client with the following settings:</p>
<ul class="simple">
<li>Select to install the “Generic mode” NSClient++.</li>
<li>Choose “Complete installation” and if asked, choose to save config
to ini file.</li>
<li>Under “Allowed Hosts” it should read 127.0.0.1,<em>NEMSIP</em>&nbsp;(where
NEMSIP is the IP address of your NEMS server)</li>
<li>Clear the Password field for ease of deployment. NEMS sample
scripts are setup to use NRPE without a password because I’m
making the assumption that this is being deployed in a trusted&nbsp;.
If you do not blank the password here, you will have to edit all
the scripts before NEMS will be able to communicate with this
computer.</li>
<li>Enable all modules and change the NRPE mode to Legacy.</li>
<li>Screen should look a little something like this:</li>
</ul>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../_images/nsclient-setup.png"><img alt="NSClient setup" src="../../../_images/nsclient-setup.png" style="width: 500px;" /></a>
</div>
<ul class="simple">
<li>Add your Windows host to NEMS.</li>
</ul>
</li>
</ol>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last"><strong>Important Firewall Note</strong>
If you have a software firewall running on your Windows machine, setup
an exception for your NEMS server IP to gain access through ports 5666
and 12489.</p>
</div>
<p>And there we have it! Your NEMS Server can now check your Windows
machine at a deeper level
using&nbsp;<a class="reference external" href="../check_commands/check_nrpe.html">check_nrpe</a>.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Monitoring Microsoft Windows Hosts with NEMS Linux</a><ul>
      <li>Previous: <a href="check_wmi.html" title="previous chapter">Monitor Windows Machines with Windows Management Instrumentation (WMI)</a></li>
      <li>Next: <a href="../linux/index.html" title="next chapter">Monitoring Linux Hosts with NEMS Linux</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/check_commands/usage/microsoft-windows/check_nrpe.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Category5 TV Network.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.7</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../../../_sources/check_commands/usage/microsoft-windows/check_nrpe.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>