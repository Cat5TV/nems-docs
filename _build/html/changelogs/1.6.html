
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>NEMS Linux 1.6 Changelogs &#8212; NEMS Linux Documentation 1.6 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="NEMS Linux 1.5 Changelogs" href="1.5.html" />
    <link rel="prev" title="NEMS Linux: Raspberry Pi GPIO Pinout" href="../accessories/rpi_pinout.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="nems-linux-1-6-changelogs">
<h1>NEMS Linux 1.6 Changelogs<a class="headerlink" href="#nems-linux-1-6-changelogs" title="Permalink to this headline">¶</a></h1>
<p>The NEMS 1.6 release cycle will focus on hardware porting and
peripherals.</p>
<p><strong>Key Development Features and Goals:</strong></p>
<ul class="simple">
<li>Python moved to v3 stack due to 2.7 EOL.</li>
<li>Public release of <a class="reference external" href="/features/nems-tools/warninglight">NEMS Warning Light</a>.</li>
<li>check_mk livestatus upgraded to 1.5 (requires C++17).</li>
<li>Supported single board computer list to be reduced to focus on most
used, with option for users to request ports if they do not exist.</li>
<li>Port NEMS Linux to Docker platform. Development funding provided by
Patrons (THANK YOU).</li>
<li><strong>Firewall</strong> - NEMS Linux to include <a class="reference external" href="https://www.configserver.com/cp/csf.html">ConfigServer Security &amp;
Firewall (csf) with Login Failure Daemon (lfd)</a>. Internal LAN IP
addresses are whitelisted by default, but if a user tries to access
your NEMS server from outside the LAN (ie., if you have your NEMS
server accessible on the Internet) they will get locked out if they
try an incorrect password too many times.</li>
<li>Add IPMI (freeipmi) if not added already.</li>
<li>Begin work on smart home assistant integration: NEMS Skill for Alexa
and Google Assistant.</li>
<li>Consistent networking configuration across platform (for setting
static IPs, for example).</li>
</ul>
<p><strong>Release Dates:</strong></p>
<p>NEMS Linux 1.6 is planned for release Q4 2020.</p>
<p><strong>Development Changelogs Since 1.5:</strong></p>
<p>December 2019</p>
<ul class="simple">
<li>Merged <a class="reference external" href="https://github.com/Cat5TV/nconf/pull/4">PR 4</a>, adding escalations for hosts /
services / advanced services and fixing various bugs.</li>
<li>Upgrade NEMS NConf jquery code to 3.3.1.</li>
<li>Tap NEMS NConf into user’s wallpaper settings.</li>
<li>Output the final line from syntax check to screen
when deploying config in NEMS NConf.</li>
<li>Changed “Generate Nagios config” to clearer
“Deploy Config to NEMS” in NEMS NConf.</li>
<li>Moved all the legal stuff off the landing page of
NEMS NConf and moved to new “Legal Disclaimer” section.</li>
<li>Prepare Migrator for 1.6 and integrate new NConf
configs.</li>
<li>Upgrade Nagios Core to 4.4.5.</li>
<li>Integrated <a class="reference external" href="https://github.com/chriscareycode/nagiostv-react">NagiosTV</a> as per BastyJuice.</li>
</ul>
<p>January-February 2020</p>
<ul class="simple">
<li>Upgrade Monit to 5.26.0.</li>
<li>Move build tmpdir out of /tmp/ and into /usr/src/</li>
<li>NEMS NConf 1.6 tooltip font color fixed.</li>
<li>NEMS NConf 1.6 removal of JQuery Accordion from
Generate page, replaced with terminal output.</li>
<li>New Deploy button for NEMS NConf Generate Config
page.</li>
<li>Change notify-service-by-telegram to point to the
modern script, rather than the old path (which is a symlink these
days). mydogboris noted that when using the symlink, his Telegram
notifications were wonky.</li>
<li>Added the NEMS MOTD to Docker.</li>
<li>General filesystem cleanup: remove some old cruft.</li>
<li>NagiosTV theme customized to match user theme
settings (such as background image).</li>
<li>Added humidity sensor to check_temper.</li>
<li>NRPE upgraded to 4.0.0.</li>
<li>Fixed NRPE installer script if run on non-NEMS
system, as per <a class="reference external" href="https://github.com/Cat5TV/nems-admin/issues/2">Issue 2</a> by Xelo.</li>
<li>Revert NRPE to 3.2.1 temporarily, until I can
figure out how to make it talk to older installs (upgrading to 4.0.0
breaks all existing 3.2.1 installs).</li>
<li>check_speedtest_cli.sh now records a log file in
/var/log/nems/speedtest.log. This log is now parsed by NEMS TV
Dashboard and displayed at all times. Further improvements will be
added before public release. As requested by ITManLT.</li>
<li>Replace words “Down” and “Up” in NEMS TV
Dashboard speedtest stats with font-awesome icons.</li>
</ul>
<p>March-April 2020</p>
<ul class="simple">
<li>Move 1.6 base to Debian 11 (bullseye).</li>
<li>Upgrade Monitorix to 3.12.0.</li>
<li>Added <em>mod_wsgi</em> to 1.6, which is no longer
auto-installed with Apache2 in bullseye.</li>
<li>Initial user files now placed correctly in /etc/skel
for user creation.</li>
<li>Change default body background color of <em>NEMS NConf</em>
to dark grey (almost black) to prevent the appearance of the screen
flashing white during page transition.</li>
<li>Moved old <em>python-pip</em>, <em>python-django</em> and
<em>python-paramiko</em> to modern <em>python3-pip</em>, python3-django and
python3-paramiko packages respectively.</li>
<li>Upgrade Adagios to 1.6.6.</li>
<li>Migrate to several experimental branches of Adagios
components to begin testing support under Python 3.8. Current stable
only supports Python 2.7 which is EOL this year.</li>
</ul>
<p>May-June 2020</p>
<ul class="simple">
<li>NEMS Linux 1.6 development merged (some would say
“downgraded”) with NEMS Linux 1.5.2 as I wait for Adagios support for
Python 3.7+. NEMS Linux 1.6 will be buster-based and use Python 2.7.</li>
<li>Change ownership of /var/log/nems to nagios user and
group to allow check commands to write to logs. This enables the
speedtest log, which in turn shows speedtest data on NEMS TV
Dashboard.</li>
<li><a class="reference external" href="https://docs.nemslinux.com/en/latest/accessories/temper.html">TEMPer</a> calibration added to NEMS SST and integrated
into all TEMPer output. Now, for the sake of accuracy, users may
adjust the thermal and humidity sensor offset by simply dragging a
slider.</li>
<li>Hide TEMPer calibration option if TEMPer device is not
present.</li>
<li>Add Argon ONE scripts for Raspberry Pi 4.</li>
<li><a class="reference external" href="https://docs.nemslinux.com/en/latest/accessories/argon1case.html">Argon ONE</a> support complete.</li>
<li>Added <em>repos</em> feature to <a class="reference external" href="https://docs.nemslinux.com/en/latest/commands/nems-info.html">nems-info</a>.</li>
<li>Added new check_mrtgtraf_nems check command in
preparation for a very sleek MRTG integration.</li>
<li>Set Argon ONE to log to /var/log/nems/argonone.log if
system is rebooted or shutdown safely using the power button (with
timestamp).</li>
<li>Move rpimonitor off the repository and instead
manually install. The source repository
(<a class="reference external" href="http://giteduberger.fr/rpimonitor/">http://giteduberger.fr/rpimonitor/</a>) became unstable during the 1.5
release cycle (up and down) and since rpimonitor appears to be a dead
project (hasn’t been updated in &gt; 4 years) I’ve instead removed the
repository requirement and installed it manually. Also, fixed the
distribution name on the template.</li>
</ul>
<p>July-August 2020</p>
<ul class="simple">
<li>Change logrotate for NEMS logs to rotate logs based on
log size, not date. Delayed compression added.</li>
<li><em>check_mrtgtraf_nems</em> now rounds the floats of the
traffic results to two decimal places.</li>
<li>Added <a class="reference external" href="https://docs.nemslinux.com/en/latest/basic/checkapc.html">check_apc</a> to check the state of an APC
UPS. As <a class="reference external" href="https://discord.com/channels/501816361706717184/654697565937205278/687329215456346257">requested by Neptunum</a>.</li>
<li>Python version default will now be hard set at 995
during build process. This is in preparation for python3 down the
road (pending Adagios compatibility).</li>
<li>I noticed logrotate rotating some NEMS logs that
really shouldn’t be rotated, such as <em>cloudauth.log</em>. Modified
<em>logrotate.d</em> conf to omit logs that should not be rotated.</li>
<li>Change permissions of <em>/var/log/nagios/nagios.log</em>
to allow group write. Required to remove root user requirement on
<em>nems-mailtest</em>, which will be needed to integrate it into NEMS
Dashboard.</li>
<li><a class="reference external" href="https://docs.nemslinux.com/en/latest/commands/nems-mailtest.html">nems-mailtest</a> is now integrated into NEMS SST.
<a class="reference external" href="https://youtu.be/bWj3m6pB8RA">See Video</a></li>
<li><a class="reference external" href="https://docs.nemslinux.com/en/latest/commands/nems-mailtest.html">nems-mailtest</a> in NEMS SST now runs
<em>nems-mailtest</em> using the information entered in the form, not saved
to the config. This way, a user may test their SMTP config <em>before</em>
saving the changes.</li>
<li>Reverted MySQL database to previous push of 1.6
branch as I had accidentally pushed the 1.5 database to the 1.6
branch when I added <em>check_apc</em>. I’ve corrected it, and re-added
<em>check_apc</em>. No users impacted by this since 1.6 hasn’t yet been
released.</li>
<li>Added <em>nems-info [dht11|dht22]</em> which outputs json
response from either the DHT11 or DHT22 sensors.</li>
<li>Add user to gpio group during initialization. This will allow access to the GPIO pins without root access.</li>
</ul>
<p>September-October 2020</p>
<ul class="simple">
<li>Minor improvements to output of DHTxx check command for Humidity values.</li>
<li>Add nemsadmin user to gpio group, just to ensure the demo check commands work out of the box, before initialization takes place.</li>
<li>Upgrade check_mk Livestatus to 1.6.0p17. This gets the sock working on the NEMS Linux 1.6 AWS development system, which is required for Adagios and NEMS TV Dashboard.</li>
<li>Added phpmyadmin, disabled by default and interface access protected behind NEMS user login/password when enabled.</li>
<li>Change check_local_disk to support unit selection (KB, MB, GB, TB) and set default for NEMS Local disk check sample to GB.</li>
<li>New Feature: NEMS PHP Server Agent can now be configured and downloaded in NEMS System Settings Tool.</li>
<li>New documentation launched, with the help of Bill Marshall plus
submissions from Don Jenkins.</li>
</ul>
<p>November-December 2020</p>
<ul class="simple">
<li>NEMS Tools now automatically detects the IP address of the running
NEMS Server on the same subnet and creates its configuration file.</li>
<li>NEMS Tools GPIO Extender client now uses the config file to determine
NEMS Server IP address.</li>
<li>Omzlo Warning Light pHAT now transmits and receives via NEMS GPIO
Extender, allowing you to plug the pHAT into your NEMS Tools GPIO
Extender Receiver.</li>
<li>Fixed a typo in Warning Light that incorrectly determined all platforms
to be a Raspberry Pi.</li>
<li>Update nems-tools GPIO Extender to detect NEMS Servers via gpioe-server
on port 9595 rather than looking for a host reply from nems-api.</li>
<li>Moved nems-tools.conf to /boot, making it extremely easy to modify the
conf on nems-tools Extender OS.</li>
<li>NEMS SST will no longer warn of requirement to add a password for
the PHP Agent if a password already exists in the config.</li>
<li>NEMS PHP Agent 1.1 released. Now the keyphrase is encrypted (rather than
base_64 encoded). Also added “.” current folder disk space check and
fixed several bugs with <cite>disk</cite> and <cite>var</cite> checks.</li>
<li>Fixed the directions on NEMS SST which directed a user to add their
encypription/decryption passphrase to the “General” tab, since that
feature was moved to the NEMS Migrator tab long ago. Pointed out by
UltimateBugHunter-NitPicker.</li>
<li>NEMS Extender OS will now illuminate all lights if the NEMS Server goes
offline or cannot be contacted.</li>
<li>Improve output in nems-init if user tries to initialize with same name
as already running user.</li>
<li>Added qemu-guest-agent to improve integration with Proxmox VE
<a class="reference external" href="https://discord.com/channels/501816361706717184/654697565937205278/779743783851130880">as per UltimateBugHunter-NitPicker</a>.</li>
<li>Delay for a random amount of time (up to 2 hours) when running offsite backup
tasks to prevent 1,000+ NEMS Servers clobbering the API all in the same moment.
Issue pointed out by UltimateBugHunter-NitPicker who was seeing errors with his daily backup.</li>
<li>NEMS Migrator Off Site Backup will now log if the Internet was down when the backup
ran. Also added a ‘now’ cli option that will force it to run without delaying.</li>
<li>Changed Migrator patches failsafe to determine if Quickfix / fixes was running for more
than 120 minutes (previous setting was 90) before killing.</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../accessories/rpi_pinout.html" title="previous chapter">NEMS Linux: Raspberry Pi GPIO Pinout</a></li>
      <li>Next: <a href="1.5.html" title="next chapter">NEMS Linux 1.5 Changelogs</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/changelogs/1.6.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Category5 TV Network.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.7</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../_sources/changelogs/1.6.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>